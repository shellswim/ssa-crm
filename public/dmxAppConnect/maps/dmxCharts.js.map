{"version":3,"sources":["components/chart.js"],"names":["dmx","Component","attributes","width","type","Number","default","height","responsive","Boolean","String","colors","Array","legend","data","labels","nogrid","points","point-style","point-size","smooth","thickness","dashed","stacked","multicolor","cutout","noanimation","fullbar","colors1","colors2","colors3","colors4","colors5","colors6","colors7","colors8","colors9","render","node","this","$node","document","createElement","setAttribute","props","id","name","dom","replace","datasets","getDatasets","update","chartType","options","layout","padding","display","tooltips","callbacks","label","tooltipItem","dataset","datasetIndex","tooltipExpression","parse","DataScope","$label","$value","index","yLabel","value","isArray","slice","animation","duration","hover","animationDuration","position","scales","xAxes","gridLines","yAxes","ticks","beginAtZero","forEach","i","color","Object","assign","fill","lineTension","backgroundColor","Color","alpha","rgbaString","borderWidth","borderColor","borderDash","pointStyle","pointBackgroundColor","pointBorderColor","pointBorderWidth","pointHitRadius","pointRadius","pointHoverRadius","map","barPercentage","categoryPercentage","scale","cutoutPercentage","JSON","stringify","clone","getData","chart","destroy","Chart","needUpdate","length","prop","hasAttribute","push","getAttribute","dataExpression","items","repeatItems","getLabels"],"mappings":"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","file":"../dmxCharts/dmxCharts.js","sourcesContent":["dmx.Component('chart', {\r\n\r\n    attributes: {\r\n        width: {\r\n            type: Number,\r\n            default: 800\r\n        },\r\n\r\n        height: {\r\n            type: Number,\r\n            default: 600\r\n        },\r\n\r\n        responsive: {\r\n            type: Boolean,\r\n            default: false\r\n        },\r\n\r\n        type: {\r\n            type: String,\r\n            default: 'line' // line/area/bar/horizontalBar/pie/doughnut/radar/polarArea\r\n        },\r\n\r\n        colors: {\r\n            type: [String, Array],\r\n            default: 'default'\r\n        },\r\n\r\n        legend: {\r\n            type: String,\r\n            default: ''\r\n        },\r\n\r\n        data: {\r\n            type: Array,\r\n            default: []\r\n        },\r\n\r\n        labels: {\r\n            type: String,\r\n            default: ''\r\n        },\r\n\r\n        nogrid: {\r\n            type: Boolean,\r\n            default: false\r\n        },\r\n\r\n        points: { // line/area/radar\r\n            type: Boolean,\r\n            default: false\r\n        },\r\n\r\n        'point-style': { // line/area/radar\r\n            type: String,\r\n            default: 'circle' //'circle','cross','crossRot','dash','line','rect','rectRounded','rectRot','star','triangle'\r\n        },\r\n\r\n        'point-size': { // line/area/radar\r\n            type: String,\r\n            default: 3\r\n        },\r\n\r\n        smooth: { // line/area/radar (smooth lines)\r\n            type: Boolean,\r\n            default: false\r\n        },\r\n\r\n        thickness: { // all\r\n            type: Number,\r\n            default: 1\r\n        },\r\n\r\n        dashed: { // line/area/radar\r\n            type: Boolean,\r\n            default: false\r\n        },\r\n\r\n        stacked: { // line/area/bar/horizontalBar\r\n            type: Boolean,\r\n            default: false\r\n        },\r\n\r\n        multicolor: { // bar/horizontalBar\r\n            type: Boolean,\r\n            default: false\r\n        },\r\n\r\n        cutout: { // doughnut\r\n            type: Number,\r\n            default: 50 // percent\r\n        },\r\n\r\n        noanimation: { // all\r\n            type: Boolean,\r\n            default: false // disable animations\r\n        },\r\n\r\n        fullbar: { // bar/horizontalBar\r\n            type: Boolean,\r\n            default: false // make bars full size\r\n        }\r\n    },\r\n\r\n    colors: {\r\n        default: ['#1c9f8d', '#d94712', '#2d81b9', '#1aa042', '#ad1999', '#d89515', '#d83148', '#7e2dad', '#828280', '#ad312f', '#1c9f8d', '#d94712', '#2d81b9', '#1aa042', '#ad1999', '#d89515', '#d83148', '#7e2dad', '#828280', '#ad312f'],\r\n        colors1: ['#5DA5DA', '#FAA43A', '#60BD68', '#F17CB0', '#B2912F', '#B276B2', '#DECF3F', '#F15854', '#4D4D4D', '#5DA5DA', '#FAA43A', '#60BD68', '#F17CB0', '#B2912F', '#B276B2', '#DECF3F', '#F15854', '#4D4D4D'],\r\n        colors2: ['#5cbae6', '#b6d957', '#fac364', '#d998cb', '#f2d249', '#93b9c6', '#ccc5a8', '#52bacc', '#98aafb', '#5cbae6', '#b6d957', '#fac364', '#d998cb', '#f2d249', '#93b9c6', '#ccc5a8', '#52bacc', '#98aafb'],\r\n        colors3: ['#3678b3', '#f47d0d', '#479f2f', '#ca2227', '#9068bc', '#87564b', '#da77c1' ,'#7f7f7f' ,'#bbbc26' ,'#4bbfcf', '#3678b3', '#f47d0d', '#479f2f', '#ca2227', '#9068bc', '#87564b', '#da77c1' ,'#7f7f7f' ,'#bbbc26' ,'#4bbfcf'],\r\n        colors4: ['#b1c7e8', '#f8b978', '#a2df8b', '#f69795', '#c3b0d5', '#bf9b94', '#f1b5d2' ,'#c7c7c7' ,'#dbda8e' ,'#a6dae5', '#b1c7e8', '#f8b978', '#a2df8b', '#f69795', '#c3b0d5', '#bf9b94', '#f1b5d2' ,'#c7c7c7' ,'#dbda8e' ,'#a6dae5'],\r\n        colors5: ['#3a3d79', '#66793a', '#886c32', '#7e3c39', '#764273', '#4383bd', '#db520a', '#4ba355', '#746cb0', '#636363', '#3a3d79', '#66793a', '#886c32', '#7e3c39', '#764273', '#4383bd', '#db520a', '#4ba355', '#746cb0', '#636363'],\r\n        colors6: ['#5356a2', '#8ea153', '#b99d3b', '#a5484a', '#9e5293', '#76afd6', '#f38b3c', '#80c377', '#9e9ac8', '#969696', '#5356a2', '#8ea153', '#b99d3b', '#a5484a', '#9e5293', '#76afd6', '#f38b3c', '#80c377', '#9e9ac8', '#969696'],\r\n        colors7: ['#6c70ce', '#b8ce6c', '#e2b853', '#cc606b', '#c66ebc', '#a4cae1', '#f5ac6b', '#a8d99b', '#bcbddc', '#bdbdbd', '#6c70ce', '#b8ce6c', '#e2b853', '#cc606b', '#c66ebc', '#a4cae1', '#f5ac6b', '#a8d99b', '#bcbddc', '#bdbdbd'],\r\n        colors8: ['#9c9fde', '#cfda9c', '#e4ca94', '#df959b', '#d89ed5', '#c9dbef', '#f8cfa2', '#cbe9c0', '#dadaeb', '#d9d9d9', '#9c9fde', '#cfda9c', '#e4ca94', '#df959b', '#d89ed5', '#c9dbef', '#f8cfa2', '#cbe9c0', '#dadaeb', '#d9d9d9'],\r\n        colors9: ['#f44336', '#8bc34a', '#03a9f4', '#ffc107', '#e91e63', '#cddc39', '#00bcd4', '#ff9800', '#9c27b0', '#009688', '#f44336', '#8bc34a', '#03a9f4', '#ffc107', '#e91e63', '#cddc39', '#00bcd4', '#ff9800', '#9c27b0', '#009688']\r\n    },\r\n\r\n    render: function(node) {\r\n        this.$node = document.createElement('canvas');\r\n        this.$node.setAttribute('width', this.props.width);\r\n        this.$node.setAttribute('height', this.props.height);\r\n        this.$node.id = this.name;\r\n\r\n        dmx.dom.replace(node, this.$node);\r\n\r\n        if (typeof this.props.colors == 'string') {\r\n            this.props.colors = this.colors[this.props.colors] || this.colors.default;\r\n        }\r\n\r\n        this.datasets = this.getDatasets(node);\r\n\r\n        this.update({});\r\n    },\r\n\r\n    update: function(props) {\r\n        var chartType = this.props.type;\r\n        var options = {\r\n            type: chartType == 'area' ? 'line' : chartType,\r\n            options: {\r\n                responsive: this.props.responsive,\r\n                layout: { padding: 5 },\r\n                legend: { display: false },\r\n                tooltips: {\r\n                    callbacks: {\r\n                        label: function(tooltipItem, data) {\r\n                            var dataset = data.datasets[tooltipItem.datasetIndex];\r\n\r\n                            if (dataset.tooltipExpression) {\r\n                                return dmx.parse(dataset.tooltipExpression, new dmx.DataScope({\r\n                                    $label: dataset.label,\r\n                                    $value: dataset.data[tooltipItem.index]\r\n                                }, this));\r\n                            }\r\n\r\n                            if (chartType == 'doughnut' || chartType == 'pie') {\r\n                                var label = data.labels[tooltipItem.index];\r\n                                var value = ': ' + dataset.data[tooltipItem.index];\r\n\r\n                                if (Array.isArray(label)) {\r\n                                    label = label.slice();\r\n                                    label[0] += value;\r\n                                } else {\r\n                                    label += value;\r\n                                }\r\n\r\n                                return label;\r\n                            } else if (chartType == 'palarArea') {\r\n                                return data.labels[tooltipItem.index] + ': ' + tooltipItem.yLabel\r\n                            } else {\r\n                                var label = dataset.label || '';\r\n                                if (label) {\r\n                                    label += ': ';\r\n                                }\r\n                                \r\n                                var value = tooltipItem.value;\r\n                                if (value != null) {\r\n                                    label += value;\r\n                                } else {\r\n                                    label += tooltipItem.yLabel;\r\n                                }\r\n\r\n                                return label;\r\n                            }\r\n                        }\r\n                    }\r\n                }\r\n            }\r\n        };\r\n\r\n        if (typeof this.props.colors == 'string') {\r\n            this.props.colors = this.colors[this.props.colors] || this.colors.default;\r\n        }\r\n\r\n        if (this.props.noanimation) {\r\n            options.options.animation = { duration: 0 };\r\n            options.options.hover = { animationDuration: 0 };\r\n        }\r\n\r\n        if (this.props.legend) {\r\n            options.options.legend.display = true;\r\n            options.options.legend.position = this.props.legend;\r\n        }\r\n\r\n        if (this.props.type == 'line' || this.props.type == 'area') {\r\n            options.options.scales = {\r\n                xAxes: [{ gridLines: { display: !this.props.nogrid }}],\r\n                yAxes: [{ gridLines: { display: !this.props.nogrid }, stacked: this.props.stacked, ticks: { beginAtZero: true }}]\r\n            };\r\n\r\n            this.datasets.forEach(function(dataset, i) {\r\n                var color = this.props.colors[i];\r\n\r\n                Object.assign(dataset, {\r\n                    fill: this.props.type == 'area',\r\n                    lineTension: this.props.smooth ? 0.4 : 0,\r\n                    backgroundColor: Color(color).alpha(0.5).rgbaString(),\r\n                    borderWidth: +this.props.thickness,\r\n                    borderColor: color,\r\n                    borderDash: this.props.dashed ? [5,5] : [],\r\n                    pointStyle: this.props['point-style'],\r\n                    pointBackgroundColor: color,\r\n                    pointBorderColor: color,\r\n                    pointBorderWidth: 1,\r\n                    pointHitRadius: 10,\r\n                    pointRadius: this.props.points ? +this.props['point-size'] : 0,\r\n                    pointHoverRadius: +this.props['point-size']\r\n                });\r\n            }, this);\r\n        }\r\n\r\n        if (this.props.type == 'bar' || this.props.type == 'horizontalBar') {\r\n            options.options.scales = {\r\n                xAxes: [{\r\n                    gridLines: { display: !this.props.nogrid },\r\n                    stacked: this.props.stacked,\r\n                    ticks: { beginAtZero: true }\r\n                }],\r\n                yAxes: [{\r\n                    gridLines: { display: !this.props.nogrid },\r\n                    stacked: this.props.stacked,\r\n                    ticks: { beginAtZero: true }\r\n                }]\r\n            };\r\n\r\n            this.datasets.forEach(function(dataset, i) {\r\n                var color = this.props.colors[i];\r\n\r\n                Object.assign(dataset, {\r\n                    backgroundColor: this.props.multicolor ? this.props.colors.map(function(color) { return Color(color).alpha(0.5).rgbaString(); }) : Color(color).alpha(0.5).rgbaString(),\r\n                    borderColor: this.props.multicolor ? this.props.colors : color,\r\n                    borderDash: this.props.dashed ? [5,5] : [],\r\n                    borderWidth: +this.props.thickness,\r\n                    barPercentage: this.props.fullbar ? 1 : .9,\r\n                    categoryPercentage: this.props.fullbar ? 1 : .8\r\n                });\r\n            }, this);\r\n        }\r\n\r\n        if (this.props.type == 'polarArea' || this.props.type == 'radar') {\r\n            options.options.scale = { gridLines: { display: !this.props.nogrid }, ticks: { beginAtZero: true } };\r\n\r\n            this.datasets.forEach(function(dataset, i) {\r\n                var color = this.props.colors[i];\r\n\r\n                Object.assign(dataset, {\r\n                    fill: true,\r\n                    lineTension: this.props.smooth ? 0.4 : 0,\r\n                    borderWidth: +this.props.thickness,\r\n                    borderDash: this.props.dashed ? [5,5] : [],\r\n                    borderColor: this.props.type == 'polarArea' ? this.props.colors : color,\r\n                    backgroundColor: this.props.type == 'polarArea' ? this.props.colors.map(function(color) { return Color(color).alpha(0.3).rgbaString(); }) : Color(color).alpha(0.3).rgbaString(),\r\n                    pointStyle: this.props['point-style'],\r\n                    pointBackgroundColor: this.props.type == 'polarArea' ? this.props.colors : color,\r\n                    pointBorderColor: this.props.type == 'polarArea' ? this.props.colors : color,\r\n                    pointBorderWidth: 1,\r\n                    pointHitRadius: 10,\r\n                    pointRadius: this.props.points ? +this.props['point-size'] : 0,\r\n                    pointHoverRadius: +this.props['point-size']\r\n                });\r\n            }, this);\r\n        }\r\n\r\n        if (this.props.type == 'pie' || this.props.type == 'doughnut') {\r\n          this.datasets.forEach(function(dataset, i) {\r\n              var color = this.props.colors[i];\r\n\r\n              Object.assign(dataset, {\r\n                  backgroundColor: this.props.colors.map(function(color) { return Color(color).alpha(0.5).rgbaString() }),\r\n                  borderColor: this.props.colors,\r\n                  borderWidth: +this.props.thickness,\r\n              });\r\n          }, this);\r\n        }\r\n\r\n        if (this.props.type == 'doughnut') {\r\n            options.options.cutoutPercentage = this.props.cutout;\r\n        }\r\n\r\n        if (JSON.stringify(options) != JSON.stringify(this.options)) {\r\n            if (this.props.type) {\r\n                this.options = dmx.clone(options);\r\n\r\n                options.data = this.getData();\r\n\r\n                if (this.chart) this.chart.destroy();\r\n                this.chart = new Chart(this.$node, dmx.clone(options));\r\n            }\r\n        } else if (this.chart) {\r\n            var data = this.getData();\r\n            var needUpdate = false;\r\n\r\n            if (JSON.stringify(this.chart.data.labels) != JSON.stringify(data.labels)) {\r\n                this.chart.data.labels = data.labels;\r\n                needUpdate = true;\r\n            }\r\n\r\n            if (data.datasets.length != this.chart.data.datasets.length) {\r\n                this.chart.data.datasets = data.datasets;\r\n                needUpdate = true;\r\n            } else {\r\n                data.datasets.forEach(function(dataset, i) {\r\n                    ['label', 'backgroundColor', 'borderColor', 'borderWidth', 'dataExpression', 'tooltipExpression', 'data'].forEach(function(prop) {\r\n                        if (JSON.stringify(this.chart.data.datasets[i][prop]) != JSON.stringify(dataset[prop])) {\r\n                            this.chart.data.datasets[i][prop] = dataset[prop];\r\n                            needUpdate = true;\r\n                        }\r\n                    }, this);\r\n                }, this);\r\n            }\r\n\r\n            if (needUpdate) {\r\n                this.chart.update();\r\n            }\r\n        }\r\n    },\r\n\r\n    getDatasets: function(node) {\r\n        var datasets = [];\r\n\r\n        for (var i = 1; i <= 20; i++) {\r\n            if (node.hasAttribute('dataset-' + i + ':value')) {\r\n                datasets.push({\r\n                    label: node.hasAttribute('dataset-' + i + ':label') ? node.getAttribute('dataset-' + i + ':label') : 'dataset ' + i,\r\n                    backgroundColor: this.props.colors.map(function(color) { return Color(color).alpha(0.5).rgbaString() }),\r\n                    borderColor: this.props.colors,\r\n                    borderWidth: 1,\r\n                    dataExpression: node.getAttribute('dataset-' + i + ':value'),\r\n                    tooltipExpression: node.getAttribute('dataset-' + i + ':tooltip'),\r\n                    data: []\r\n                });\r\n            }\r\n        }\r\n\r\n        return datasets;\r\n    },\r\n\r\n    getData: function() {\r\n        this.datasets.map(function(dataset) {\r\n            var items = dmx.repeatItems(this.props.data);\r\n\r\n            dataset.data = items.map(function(data) {\r\n                return +dmx.parse(dataset.dataExpression, new dmx.DataScope(data, this));\r\n            }, this);\r\n\r\n            return [];\r\n        }, this);\r\n\r\n        return {\r\n            labels: this.getLabels(),\r\n            datasets: this.datasets\r\n        };\r\n    },\r\n\r\n    getLabels: function() {\r\n        var items = dmx.repeatItems(this.props.data);\r\n\r\n        return items.map(function(data, index) {\r\n            if (this.props.labels) {\r\n                return dmx.parse(this.props.labels, new dmx.DataScope(data, this));\r\n            } else {\r\n                return 'value ' + (index + 1);\r\n            }\r\n        }, this);\r\n    }\r\n\r\n});\r\n"]}